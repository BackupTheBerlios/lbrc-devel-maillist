<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Lbrc-devel] Thoughts about the wire (bluetooth) protocol
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/lbrc-devel/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:lbrc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLbrc-devel%5D%20Thoughts%20about%20the%20wire%20%28bluetooth%29%20protocol&In-Reply-To=%3C1174415088.20681.26.camel%40prometheus.glx%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000032.html">
   <LINK REL="Next"  HREF="000034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Lbrc-devel] Thoughts about the wire (bluetooth) protocol</H1>
    <B>Matthias Bl&#228;sing</B> 
    <A HREF="mailto:lbrc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLbrc-devel%5D%20Thoughts%20about%20the%20wire%20%28bluetooth%29%20protocol&In-Reply-To=%3C1174415088.20681.26.camel%40prometheus.glx%3E"
       TITLE="[Lbrc-devel] Thoughts about the wire (bluetooth) protocol">matthias.blaesing at rwth-aachen.de
       </A><BR>
    <I>Tue Mar 20 19:24:48 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000032.html">[Lbrc-devel] Updates on the weekend
</A></li>
        <LI>Next message: <A HREF="000034.html">[Lbrc-devel] Thoughts about the wire (bluetooth) protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33">[ date ]</a>
              <a href="thread.html#33">[ thread ]</a>
              <a href="subject.html#33">[ subject ]</a>
              <a href="author.html#33">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I already worked on the BT connection, so that it's possible to require
a pairing of the device, that tries to connect, so that we get a bit of
security.

Nom I'm thinking about the wire protocoll used over the bluetooth
connection. 

The situation now:

      * L2CAP Connection as Basis (small MTU, unreliable, compare to
        UDP)
      * the J2ME parts send 5 byte packets to the server
      * one way communication

The proposal:

      * RFCOMM (reliable streamconnection, bidirectional)
      * protocol: JSON packets are send (we send hashes, with required
        field &quot;type&quot;. Currently we would only use one type: &quot;keycode&quot;)
      * ability to establish twoway communication

The use of JSON should enable us to create a sensible, extensible
protocol.

This is no proposal for the final communication structure (things like
menus for profile selection, replies from the application, status
display, ...) come to mind. I'm thinking about creating a state diagram
for this ... These goals can be archived with the propesed wire
protocol.

Any thought about this?

The basic idea is realizable, as I have an example created for this, but
there are issues, that would have to be addressed. Such as seperating
two json string in one buffer (but that should be doable via checking
for a sequence like &quot;}\whitespace{&quot;, as two hashes have to be seperated
by a &quot;,&quot;.


Greeting

Matthias

-- 
Matthias Bl&#228;sing (GPG-Schl&#252;sselkennung: A71B4BD5)
ICQ: 84617206   AIM: linuxfun81   MSN: <A HREF="https://lists.berlios.de/mailman/listinfo/lbrc-devel">linuxfun at hotmail.com</A>
&quot;Wer die Freiheit aufgibt um Sicherheit zu gewinnen, der wird am Ende beides verlieren.&quot;
Benjamin Franklin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Dies ist ein digital signierter Nachrichtenteil
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/lbrc-devel/attachments/20070320/ab46de29/attachment.pgp">https://lists.berlios.de/pipermail/lbrc-devel/attachments/20070320/ab46de29/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000032.html">[Lbrc-devel] Updates on the weekend
</A></li>
	<LI>Next message: <A HREF="000034.html">[Lbrc-devel] Thoughts about the wire (bluetooth) protocol
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33">[ date ]</a>
              <a href="thread.html#33">[ thread ]</a>
              <a href="subject.html#33">[ subject ]</a>
              <a href="author.html#33">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/lbrc-devel">More information about the Lbrc-devel
mailing list</a><br>
</body></html>
